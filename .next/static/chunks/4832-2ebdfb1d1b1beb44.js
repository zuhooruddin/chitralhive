"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4832],{71030:function(e,t,i){var n=i(82066),o=i(85893);t.Z=(0,n.Z)((0,o.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEye")},44832:function(e,t,i){var n=i(47568),o=i(14924),r=i(34051),l=i.n(r),s=i(85893),a=i(71030),c=i(38043),d=i(38679),u=i(72428),h=i(91811),x=i(90948),p=i(87357),m=i(93946),f=i(87918),g=i(18339),j=i(83321),y=i(85744),v=(i(44588),i(14274)),Z=i(30403),S=i(55503),b=i(41664),z=i.n(b),k=i(67294),w=i(9029),C=i(33299),A=i(55678),P=i(25675),N=i.n(P),I=i(67449),O=i(11163),W=((0,x.ZP)(y.Z)((function(){return{height:"100%",margin:"auto",display:"flex",overflow:"hidden",borderRadius:"8px",position:"relative",flexDirection:"column",justifyContent:"space-between",transition:"all 250ms ease-in-out",":hover":{"& .hover-box":{opacity:1}}}})),(0,x.ZP)(p.Z)((function(){return{width:"100%",maxHeight:300,cursor:"pointer",overflow:"hidden",position:"relative","& img":{transition:"0.3s"}}}))),R=(0,x.ZP)(m.Z)((function(){return{top:10,right:-40,position:"absolute",transition:"right 0.3s .1s"}})),H=(0,x.ZP)(m.Z)((function(){return{top:45,right:-40,position:"absolute",transition:"right 0.3s .2s"}})),T=(0,x.ZP)(p.Z)((function(e){var t=e.theme;return{borderRadius:"3px",transition:"all 0.3s",backgroundColor:t.palette.common.white,border:"1px solid ".concat(t.palette.grey[100]),":hover":{"& .product-actions":{right:5},"& img":{transform:"scale(1.1)"},border:"1px solid ".concat(t.palette.dark.main)}}})),_=((0,x.ZP)(p.Z)((function(e){var t=e.theme;return(0,o.Z)({textAlign:"center",position:"relative",display:"inline-block"},t.breakpoints.down("sm"),{display:"block"})})),(0,x.ZP)(f.Z)((function(){return{zIndex:1,top:"10px",left:"10px",paddingLeft:3,paddingRight:3,fontWeight:600,fontSize:"10px",position:"initial"}}))),D=((0,x.ZP)(f.Z)((function(){return{zIndex:1,top:"10px",left:"30px",paddingLeft:3,paddingRight:3,fontWeight:600,fontSize:"10px",position:"initial"}})),(0,x.ZP)(f.Z)((function(){return{zIndex:1,top:"10px",left:"15px",paddingLeft:3,paddingRight:3,fontWeight:600,fontSize:"10px",position:"absolute"}})));(0,x.ZP)(p.Z)((function(e){e.theme;return{zIndex:2,top:"7px",opacity:0,right:"15px",display:"flex",cursor:"pointer",position:"absolute",flexDirection:"column",transition:"all 0.3s ease-in-out"}})),(0,x.ZP)(p.Z)((function(){return{padding:"1rem","& .title, & .categories":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}}}));t.Z=function(e){var t=e.id,i=e.name,o=e.mrp,r=e.image,x=e.imageUrl,m=e.slug,f=e.sku,y=e.salePrice,b=e.description,P=(e.rating,e.hideRating,e.hoverEffect,e.stock),q=e.isNewArrival,F=e.discount,E=(e.showProductSize,e.wishList,e.publisherFlag,e.category,e.pageIndex),G=e.pageSize,M=e.getCurrentScrollPosition,L=e.sorting,J=e.ProductReviews,U=e.wishlist,B=y;y=y-y*F/100;var K="https://chitralhive.com/media/",Q=(r=r||x,(0,C.useSession)()),V=Q.data,X=(Q.status,(0,O.useRouter)()),Y=(0,S.bp)(),$=Y.state,ee=Y.dispatch,te=(0,k.useState)(!1),ie=(te[0],te[1]),ne=(0,k.useState)(!1),oe=ne[0],re=ne[1],le=(0,k.useState)(""),se=le[0],ae=le[1];(0,k.useEffect)((function(){if(window.localStorage){var e=localStorage.getItem("currency");ae(e)}}),[]);var ce=J.Reviews.filter((function(e){return e.itemid_id===t})),de=ce.reduce((function(e,t){return e+t.rating}),0),ue=de/ce.length,he=(Math.min(Math.round(100*ue)/100,5),ce.length),xe=function(){var e=(0,n.Z)(l().mark((function e(){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=V.user.id,e.next=3,fetch("https://chitralhive.com/api/updateWishlist",{method:"POST",body:JSON.stringify({userid:i,itemid:t}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+V.accessToken}}).then((function(e){return e.json()}));case 3:fe((function(e){return!e}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=(0,k.useState)(void 0),me=pe[0],fe=pe[1];Array.isArray(U)&&void 0===me&&fe((function(e){return void 0===e&&U.some((function(e){return e.id===t}))}));(0,k.useCallback)((function(){return ie((function(e){return!e}))}),[]);var ge=$.cart.find((function(e){return e.id===t})),je=(0,k.useCallback)((function(e,n){return function(){ee({type:"CHANGE_CART_AMOUNT",payload:{mrp:o,salePrice:y,price:y,qty:e,name:i,sku:f,slug:m,image:K+r,id:t||routerId}}),1==n?A.Am.success("Added to cart",{position:A.Am.POSITION.TOP_RIGHT}):A.Am.error("Removed from cart",{position:A.Am.POSITION.TOP_RIGHT})}}),[]),ye=function(){var e=M();sessionStorage.setItem(X.asPath+"__pp",JSON.stringify({pageIndexRoute:E,pageSizeRoute:G,scrollPos:e,sorting:L}))};return V?(0,s.jsxs)(T,{height:"100%",children:[(0,s.jsxs)(W,{children:[(0,s.jsx)(z(),{href:"/product/".concat(m),children:(0,s.jsxs)("a",{onClick:ye,children:["0.00"===P&&1===q?(0,s.jsx)(_,{color:"secondary",size:"small",label:"Out of Stock | New Arrival",sx:{ml:1}}):1===q&&P>"0.00"?F>0?(0,s.jsx)(D,{color:"secondary",size:"small",label:"New Arrival | Sale"}):(0,s.jsx)(D,{color:"secondary",size:"small",label:"New Arrival"}):q<1&&"0.00"===P?F>0?(0,s.jsx)(D,{color:"secondary",size:"small",label:"Out of Stock | Sale"}):(0,s.jsx)(D,{color:"secondary",size:"small",label:"Out of Stock"}):F>0?(0,s.jsx)(D,{color:"secondary",size:"small",label:"Sale"}):"",(0,s.jsx)("div",{className:"product-img-container",children:(0,s.jsx)(N(),{width:300,height:300,alt:"category",objectFit:"contain",layout:"intrinsic",className:"product-img",src:K+r,media:{"(max-width: 600px)":{width:"100%",height:"auto"}}})}),(0,s.jsx)("style",{children:"\n                .product-img-container {\n                  display: flex;\n                  justify-content: center;\n                  align-items: center;\n                }\n                "})]})}),(0,s.jsx)(R,{className:"product-actions",onClick:function(){return re(!0)},children:(0,s.jsx)(a.Z,{color:"disabled",fontSize:"small"})}),(0,s.jsx)(H,{className:"product-actions",onClick:function(){return xe()},children:me?(0,s.jsx)(c.Z,{color:"primary",fontSize:"small"}):(0,s.jsx)(h.Z,{color:"disabled",fontSize:"small"})})]}),(0,s.jsx)(v.Z,{openDialog:oe,handleCloseDialog:function(){return re(!1)},product:{name:i,mrp:o,id:t,salePrice:y,sku:f,slug:m,description:b,categoryName:"",stock:P,imgGroup:[K+r,K+r]}}),(0,s.jsxs)(p.Z,{p:2,textAlign:"center",children:[(0,s.jsx)(Z.nv,{style:{lineHeight:"1.5em",height:"3em",overflow:"hidden"},children:i}),(0,s.jsx)(Z.H4,{fontWeight:700,py:.5,children:(0,s.jsx)(w.hs,{alignItems:"center",gap:1,mt:.5,flexDirection:"column",children:(0,s.jsxs)(p.Z,{fontWeight:"600",color:"primary.main",sx:{textAlign:"center",justifyContent:"center",alignItems:"center",display:"flex"},children:[se,". ",y.toFixed(2),!!F&&(0,s.jsx)(Z.H5,{children:(0,s.jsx)(p.Z,{color:"grey.600",fontWeight:"200",sx:{justifyContent:"center",alignItems:"center",display:"flex",ml:"15px"},children:(0,s.jsxs)("del",{children:[se,".",null===B||void 0===B?void 0:B.toFixed(2)]})})})]})})}),(0,s.jsxs)(w.b0,{gap:1,mb:2,children:[(0,s.jsx)(g.Z,{name:"read-only",value:ue&&ue?ue:0,readOnly:!0,sx:{fontSize:14}}),(0,s.jsxs)(Z.x4,{fontWeight:600,color:"grey.500",children:["(",he&&he?he:0,")"]})]}),0==P?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(j.Z,{color:"primary",variant:"contained",disabled:!0,fullWidth:!0,children:"Add to Cart"})}):(null===ge||void 0===ge?void 0:ge.qty)?(0,s.jsxs)(w.hs,{alignItems:"center",mb:4.5,sx:{display:"flex",justifyContent:"center",flexDirection:"row"},children:[(0,s.jsx)(I.Z,{size:"small",sx:{p:1},color:"primary",variant:"outlined",onClick:je((null===ge||void 0===ge?void 0:ge.qty)-1,!1),children:(0,s.jsx)(d.Z,{fontSize:"small"})}),(0,s.jsx)(Z.H3,{fontWeight:"600",mx:2.5,children:null===ge||void 0===ge?void 0:ge.qty.toString().padStart(2,"0")}),(0,s.jsx)(I.Z,{size:"small",sx:{p:1},color:"primary",variant:"outlined",onClick:je((null===ge||void 0===ge?void 0:ge.qty)+1,!0),children:(0,s.jsx)(u.Z,{fontSize:"small"})})]}):(0,s.jsx)(j.Z,{fullWidth:!0,color:"dark",variant:"outlined",onClick:je(1,!0),children:"Add to Cart"})]})]}):(0,s.jsxs)(T,{height:"100%",children:[(0,s.jsxs)(W,{children:[(0,s.jsx)(z(),{href:"/product/".concat(m),children:(0,s.jsxs)("a",{onClick:ye,children:["0.00"===P&&1===q?(0,s.jsx)(_,{color:"secondary",size:"small",label:"Out of Stock | New Arrival",sx:{ml:1}}):1===q&&P>"0.00"?F>0?(0,s.jsx)(D,{color:"secondary",size:"small",label:"New Arrival | Sale"}):(0,s.jsx)(D,{color:"secondary",size:"small",label:"New Arrival"}):q<1&&"0.00"===P?F>0?(0,s.jsx)(D,{color:"secondary",size:"small",label:"Out of Stock | Sale"}):(0,s.jsx)(D,{color:"secondary",size:"small",label:"Out of Stock"}):F>0?(0,s.jsx)(D,{color:"secondary",size:"small",label:"Sale"}):"",(0,s.jsx)("div",{className:"product-img-container",children:(0,s.jsx)(N(),{width:300,height:300,alt:"category",objectFit:"contain",layout:"intrinsic",className:"product-img",src:K+r,media:{"(max-width: 600px)":{width:"100%",height:"auto"}}})}),(0,s.jsx)("style",{children:"\n  .product-img-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  "})]})}),(0,s.jsx)(R,{className:"product-actions",onClick:function(){return re(!0)},children:(0,s.jsx)(a.Z,{color:"disabled",fontSize:"small"})})]}),(0,s.jsx)(v.Z,{openDialog:oe,handleCloseDialog:function(){return re(!1)},product:{name:i,mrp:o,id:t,salePrice:y,sku:f,slug:m,description:b,categoryName:"",stock:P,imgGroup:[K+r,K+r]}}),(0,s.jsxs)(p.Z,{p:2,textAlign:"center",children:[(0,s.jsx)(Z.nv,{style:{lineHeight:"1.5em",height:"3em",overflow:"hidden"},children:i}),(0,s.jsx)(Z.H4,{fontWeight:700,py:.5,children:(0,s.jsx)(w.hs,{alignItems:"center",gap:1,mt:.5,flexDirection:"column",children:(0,s.jsxs)(p.Z,{fontWeight:"600",color:"primary.main",sx:{textAlign:"center",justifyContent:"center",alignItems:"center",display:"flex"},children:[se,". ",y.toFixed(2),!!F&&(0,s.jsx)(Z.H5,{children:(0,s.jsx)(p.Z,{color:"grey.600",fontWeight:"200",sx:{justifyContent:"center",alignItems:"center",display:"flex",ml:"15px"},children:(0,s.jsxs)("del",{children:[se,".",null===B||void 0===B?void 0:B.toFixed(2)]})})})]})})}),(0,s.jsxs)(w.b0,{gap:1,mb:2,children:[(0,s.jsx)(g.Z,{name:"read-only",value:ue&&ue?ue:0,readOnly:!0,sx:{fontSize:14}}),(0,s.jsxs)(Z.x4,{fontWeight:600,color:"grey.500",children:["(",he&&he?he:0,")"]})]}),0==P?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(j.Z,{color:"primary",variant:"contained",disabled:!0,fullWidth:!0,children:"Add to Cart"})}):(null===ge||void 0===ge?void 0:ge.qty)?(0,s.jsxs)(w.hs,{alignItems:"center",mb:4.5,sx:{display:"flex",justifyContent:"center",flexDirection:"row"},children:[(0,s.jsx)(I.Z,{size:"small",sx:{p:1},color:"primary",variant:"outlined",onClick:je((null===ge||void 0===ge?void 0:ge.qty)-1,!1),children:(0,s.jsx)(d.Z,{fontSize:"small"})}),(0,s.jsx)(Z.H3,{fontWeight:"600",mx:2.5,children:null===ge||void 0===ge?void 0:ge.qty.toString().padStart(2,"0")}),(0,s.jsx)(I.Z,{size:"small",sx:{p:1},color:"primary",variant:"outlined",onClick:je((null===ge||void 0===ge?void 0:ge.qty)+1,!0),children:(0,s.jsx)(u.Z,{fontSize:"small"})})]}):(0,s.jsx)(j.Z,{fullWidth:!0,color:"dark",variant:"outlined",onClick:je(1,!0),children:"Add to Cart"})]})]})}}}]);