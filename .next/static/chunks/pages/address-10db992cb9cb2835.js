(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6040],{326:function(e,t,r){"use strict";var n=r(64836);t.Z=void 0;var i=n(r(64938)),s=r(85893),o=(0,i.default)((0,s.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");t.Z=o},26770:function(e,t,r){"use strict";var n=r(64836);t.Z=void 0;var i=n(r(64938)),s=r(85893),o=(0,i.default)((0,s.jsx)("path",{d:"M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-6-2c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2zm6 16H6V8h2v2c0 .55.45 1 1 1s1-.45 1-1V8h4v2c0 .55.45 1 1 1s1-.45 1-1V8h2v12z"}),"ShoppingBagOutlined");t.Z=o},22516:function(e,t,r){"use strict";var n=r(82066),i=r(85893);t.Z=(0,n.Z)((0,i.jsx)("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"}),"FavoriteBorder")},19933:function(e,t,r){"use strict";var n=r(82066),i=r(85893);t.Z=(0,n.Z)((0,i.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person")},98212:function(e,t,r){"use strict";var n=r(82066),i=r(85893);t.Z=(0,n.Z)((0,i.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"Place")},6514:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var n=r(63366),i=r(87462),s=r(67294),o=r(86010),a=r(94780),c=r(90948),l=r(71657),d=r(1588),u=r(34867);function h(e){return(0,u.ZP)("MuiDialogContent",e)}(0,d.Z)("MuiDialogContent",["root","dividers"]);var p=r(4472),m=r(85893);const f=["className","dividers"],x=(0,c.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.dividers&&t.dividers]}})((({theme:e,ownerState:t})=>(0,i.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${p.Z.root} + &`]:{paddingTop:0}})));var v=s.forwardRef((function(e,t){const r=(0,l.Z)({props:e,name:"MuiDialogContent"}),{className:s,dividers:c=!1}=r,d=(0,n.Z)(r,f),u=(0,i.Z)({},r,{dividers:c}),p=(e=>{const{classes:t,dividers:r}=e,n={root:["root",r&&"dividers"]};return(0,a.Z)(n,h,t)})(u);return(0,m.jsx)(x,(0,i.Z)({className:(0,o.Z)(p.root,s),ownerState:u,ref:t},d))}))},4472:function(e,t,r){"use strict";r.d(t,{a:function(){return s}});var n=r(1588),i=r(34867);function s(e){return(0,i.ZP)("MuiDialogTitle",e)}const o=(0,n.Z)("MuiDialogTitle",["root"]);t.Z=o},85004:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/address",function(){return r(40743)}])},40743:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return $}});var n=r(47568),i=r(10797),s=r(34051),o=r.n(s),a=r(85893),c=r(98212),l=(0,r(82066).Z)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),d=r(83321),u=r(15861),h=r(93946),p=r(87357),m=r(50657),f=r(87462),x=r(63366),v=r(67294),Z=r(86010),g=r(94780),j=r(90948),y=r(71657),S=r(4472),w=r(34182);const P=["className","id"],b=(0,j.ZP)(u.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"});var C=v.forwardRef((function(e,t){const r=(0,y.Z)({props:e,name:"MuiDialogTitle"}),{className:n,id:i}=r,s=(0,x.Z)(r,P),o=r,c=(e=>{const{classes:t}=e;return(0,g.Z)({root:["root"]},S.a,t)})(o),{titleId:l=i}=v.useContext(w.Z);return(0,a.jsx)(b,(0,f.Z)({component:"h2",className:(0,Z.Z)(c.root,n),ownerState:o,ref:t,variant:"h6",id:null!=i?i:l},s))})),A=r(6514),T=r(86886),N=r(61903),k=r(30431),z=r(9029),O=r(3563),I=r(60940),H=r(90557),_=r(23025),M=(r(41664),r(30403)),D=r(24210),R=r(33299),B=r(55678),E=r(9669),V=r.n(E),W=r(8100),q=r(82580),F=r(74231),L=F.Ry({address:F.Z_().required("required"),city:F.Z_().required("required"),country:F.Z_().required("required")}),G={city:"",address:"",country:""},$=function(){var e=(0,R.useSession)().data,t=(0,W.ZP)(e?["https://chitralhive.com/api/getCustomerShipping",e.accessToken]:null,(function(t,r){return fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify({id:e.user.id})}).then((function(e){return e.json()})).catch((function(e){console.error(e)}))})),r=t.data,s=t.mutate,f=(0,v.useState)(!1),x=f[0],Z=f[1],g=(0,v.useState)(""),j=(g[0],g[1],(0,v.useState)([])),y=j[0],S=(j[1],function(){var e=(0,n.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V().get(t).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w=(0,W.ZP)("https://chitralhive.com/api/getwebcountries",S),P=w.data,b=(w.error,(0,v.useState)([])),E=b[0],F=b[1],$=function(){var e=(0,n.Z)(o().mark((function e(t){var r,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.value,e.prev=1,e.next=4,V().get("https://chitralhive.com/api/"+"getwebcities?country=".concat(r));case 4:n=e.sent,F(n.data.citylist),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error fetching cities:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),J=(Array.isArray(y)&&y.map((function(e){return e.name})),(0,v.useState)("ISLAMABAD")),X=(J[0],J[1],function(){var t=(0,n.Z)(o().mark((function t(r,n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://chitralhive.com/api/deleteCustomerShipping",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e.accessToken},body:JSON.stringify({id:e.user.id,shipping:r})});case 3:s((function(e){var t=(0,i.Z)(e);return t.splice(n,1),t})),B.Am.error("Address Deleted Successfully",{position:B.Am.POSITION.TOP_RIGHT}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0),B.Am.error(t.t0,{position:B.Am.POSITION.TOP_RIGHT});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}()),Y=(0,q.TA)({initialValues:G,validationSchema:L,onSubmit:function(){var t=(0,n.Z)(o().mark((function t(r,n){var i,a,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.resetForm,console.log("Values",r),t.prev=2,(i=new FormData).append("country",r.country),i.append("city",r.city),i.append("address",r.address),i.append("user_id",e.user.id),t.next=10,fetch("https://chitralhive.com/api/addCustomerShipping",{method:"POST",headers:{Authorization:"Bearer "+e.accessToken},body:i});case 10:if((a=t.sent).ok){t.next=13;break}throw new Error("Failed to add address");case 13:return t.next=15,a.json();case 15:c=t.sent,s(c),Z(!1),r.country="",r.city="",r.address="",B.Am.success("Address Added Successfully",{position:B.Am.POSITION.TOP_RIGHT}),t.next=27;break;case 24:t.prev=24,t.t0=t.catch(2),console.error(t.t0);case 27:case"end":return t.stop()}}),t,null,[[2,24]])})));return function(e,r){return t.apply(this,arguments)}}()}),U=Y.handleChange,K=Y.handleSubmit,Q=Y.errors,ee=Y.touched,te=Y.values;return e&&"error"in e&&"SessionTimedOut"===e.error?((0,R.signOut)(),(0,a.jsx)(z.b0,{flexDirection:"column",minHeight:"100vh",children:(0,a.jsx)(D.Z,{})})):e?r?(0,a.jsxs)(I.Z,{children:[(0,a.jsx)(O.Z,{icon:c.Z,title:"My Addresses",navigation:(0,a.jsx)(H.Z,{}),button:(0,a.jsx)(d.Z,{color:"primary",sx:{bgcolor:"primary.light",px:4},onClick:function(){return Z(!0)},children:"Add New Address"})}),r.length>0?r.map((function(e,t){return(0,a.jsxs)(_.Z,{sx:{my:2,padding:"6px 18px"},children:[(0,a.jsx)(u.Z,{whiteSpace:"pre",m:.75,textAlign:"left",children:e.address}),(0,a.jsx)(u.Z,{flex:"1.9 1.9 250px !important",m:.75,textAlign:"left",children:e.area}),(0,a.jsx)(u.Z,{whiteSpace:"pre",textAlign:"center",color:"grey.600",children:(0,a.jsx)(h.Z,{onClick:function(){return X(e.id,t)},children:(0,a.jsx)(l,{fontSize:"small",color:"inherit"})})})]},e)})):(0,a.jsx)(p.Z,{ml:5,children:(0,a.jsx)(M.H4,{color:"red",children:"No Address Found"})}),(0,a.jsxs)(m.Z,{open:x,onClose:function(){return Z(!1)},fullWidth:!0,maxWidth:"sm",style:{minWidth:"300px"},children:[(0,a.jsx)(C,{children:"Add New Address"}),(0,a.jsxs)(A.Z,{children:[(0,a.jsx)(u.Z,{variant:"h6",mb:3,children:"Add New Address Information"}),(0,a.jsx)("form",{onSubmit:K,children:(0,a.jsxs)(T.ZP,{container:!0,spacing:3,children:[(0,a.jsx)(T.ZP,{item:!0,sm:6,xs:12,children:(0,a.jsx)(N.Z,{select:!0,fullWidth:!0,color:"info",size:"medium",name:"country",value:te.country,onChange:function(e){U(e),$(e)},label:"Country",error:!!ee.country&&!!Q.country,helperText:ee.country&&Q.country,children:P&&P.countrylist?P.countrylist.map((function(e){return(0,a.jsx)(k.Z,{value:e.name,children:e.name},e.id)})):""})}),(0,a.jsx)(T.ZP,{item:!0,sm:6,xs:12,children:(0,a.jsx)(N.Z,{select:!0,fullWidth:!0,color:"info",size:"medium",name:"city",value:te.city,onChange:U,label:"City",error:!!ee.city&&!!Q.city,helperText:ee.city&&Q.city,children:E&&E?E.map((function(e){return(0,a.jsx)(k.Z,{value:e.name,children:e.name},e.id)})):""})}),(0,a.jsx)(T.ZP,{item:!0,sm:12,xs:12,children:(0,a.jsx)(N.Z,{fullWidth:!0,multiline:!0,rows:3,inputProps:{maxLength:150},type:"text",name:"address",label:"Complete Address",value:te.address,onChange:U,helperText:ee.address&&Q.address,error:ee.address&&Boolean(Q.address)})}),(0,a.jsx)(T.ZP,{item:!0,sm:6,xs:12,children:(0,a.jsx)(d.Z,{color:"primary",variant:"contained",type:"submit",children:"Save"})})]})})]})]})]}):(0,a.jsx)("div",{children:"Loading..."}):r&&0!==r.length?void 0:(0,a.jsx)(z.b0,{flexDirection:"column",minHeight:"100vh",children:(0,a.jsx)(D.Z,{})})}},23025:function(e,t,r){"use strict";var n=r(66242),i=(0,r(90948).ZP)(n.Z)({display:"flex",flexWrap:"wrap",alignItems:"center",borderRadius:"10px",cursor:"pointer","& > *":{flex:"1 1 0"},"& .pre":{whiteSpace:"pre"}});t.Z=i},3563:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var n=r(14924),i=r(99534),s=r(85893),o=r(326),a=r(90948),c=r(87357),l=r(9029),d=r(77533),u=r(86010),h=r(6576),p=r(67294),m=(0,a.ZP)(c.Z)((function(){return{"& .handle":{cursor:"pointer"}}})),f=function(e){var t,r=e.position,n=e.open,i=e.width,o=void 0===i?280:i,a=e.handle,c=e.children,l=e.toggleSidenav,f=(0,p.useState)(n),x=f[0],v=f[1],Z=function(){return v(!x)};return(0,p.useEffect)((function(){return v(n)}),[n]),(0,s.jsxs)(m,{children:[(0,s.jsx)(d.ZP,{anchor:r,open:x,onClose:l||Z,SlideProps:{style:{width:o}},sx:{zIndex:15001},children:(0,s.jsx)(h.Z,{autoHide:!1,children:c})}),a&&(0,p.cloneElement)(a,{onClick:l||Z,className:(0,u.Z)(null===(t=a.props)||void 0===t?void 0:t.className,"handle")})]})};f.defaultProps={width:280,position:"left",open:!1};var x=f,v=r(30403),Z=r(50420),g=(0,a.ZP)(c.Z)((function(e){var t,r=e.theme;return t={display:"flex",marginTop:r.spacing(-2),marginBottom:r.spacing(3),"& .headerHold":{flexGrow:1,alignItems:"center",justifyContent:"space-between"}},(0,n.Z)(t,r.breakpoints.up("md"),{"& .sidenav":{display:"none"}}),(0,n.Z)(t,r.breakpoints.down("md"),{flexDirection:"column"}),t})),j=function(e){var t=e.title,r=e.button,n=e.navigation,a=(0,i.Z)(e,["title","button","navigation"]),d=(0,Z.Z)()<1025;return(0,s.jsxs)(g,{children:[(0,s.jsxs)(l.hs,{mt:2,className:"headerHold",children:[(0,s.jsxs)(l.hs,{alignItems:"center",children:[a.icon&&(0,s.jsx)(a.icon,{color:"primary"}),(0,s.jsx)(v.H2,{ml:1.5,my:"0px",lineHeight:"1",whiteSpace:"pre",children:t})]}),(0,s.jsx)(c.Z,{className:"sidenav",children:(0,s.jsx)(x,{position:"left",handle:(0,s.jsx)(o.Z,{fontSize:"small"}),children:n})}),!d&&r]}),d&&!!r&&(0,s.jsx)(c.Z,{mt:2,children:r})]})}},90557:function(e,t,r){"use strict";r.d(t,{Z:function(){return S}});var n=r(14924),i=r(26042),s=r(69396),o=r(99534),a=r(85893),c=r(22516),l=r(19933),d=r(98212),u=r(26770),h=r(90948),p=r(66242),m=r(15861),f=r(9029),x=r(67294),v=r(93377),Z=r(11163),g=(0,h.ZP)(p.Z)((function(e){var t=e.theme;return(0,n.Z)({paddingBottom:"1.5rem"},t.breakpoints.down("md"),{boxShadow:"none",overflowY:"auto",height:"calc(100vh - 64px)"})})),j=(0,h.ZP)((function(e){var t=e.children,r=(e.isCurrentPath,(0,o.Z)(e,["children","isCurrentPath"]));return(0,a.jsx)(v.Z,(0,s.Z)((0,i.Z)({},r),{children:t}))}))((function(e){var t=e.theme,r=e.isCurrentPath;return{display:"flex",alignItems:"center",borderLeft:"4px solid",paddingLeft:"1.5rem",paddingRight:"1.5rem",marginBottom:"1.25rem",justifyContent:"space-between",borderColor:r?t.palette.primary.main:"transparent","& .nav-icon":{color:r?t.palette.primary.main:t.palette.grey[600]},"&:hover":{borderColor:t.palette.primary.main,"& .nav-icon":{color:t.palette.primary.main}}}})),y=[{title:"DASHBOARD",list:[{href:"/orders",title:"Orders",icon:u.Z},{href:"/wish-list",title:"Wishlist",icon:c.Z}]},{title:"ACCOUNT SETTINGS",list:[{href:"/profile",title:"Profile Info",icon:l.Z},{href:"/address",title:"Addresses",icon:d.Z},,]}],S=function(){var e=(0,Z.useRouter)().pathname;return(0,a.jsx)(g,{children:y.map((function(t){return(0,a.jsxs)(x.Fragment,{children:[(0,a.jsx)(m.Z,{p:"26px 30px 1rem",color:"grey.600",fontSize:"12px",children:t.title}),t.list.map((function(t){return(0,a.jsx)(j,{href:t.href,isCurrentPath:e.includes(t.href),children:(0,a.jsxs)(f.hs,{alignItems:"center",gap:1,children:[(0,a.jsx)(t.icon,{color:"inherit",fontSize:"small",className:"nav-icon"}),(0,a.jsx)("span",{children:t.title})]})},t.title)}))]},t.title)}))})}},60940:function(e,t,r){"use strict";var n=r(85893),i=r(65582),s=r(86886),o=r(69849),a=(r(67294),r(90557));t.Z=function(e){var t=e.children;return(0,n.jsx)(o.Z,{children:(0,n.jsx)(i.Z,{sx:{my:"2rem"},children:(0,n.jsxs)(s.ZP,{container:!0,spacing:3,children:[(0,n.jsx)(s.ZP,{item:!0,lg:3,xs:12,sx:{display:{xs:"none",sm:"none",md:"block"}},children:(0,n.jsx)(a.Z,{})}),(0,n.jsx)(s.ZP,{item:!0,lg:9,xs:12,children:t})]})})})}}},function(e){e.O(0,[2962,939,2478,5394,9579,9154,4210,7764,9849,9774,2888,179],(function(){return t=85004,e(e.s=t);var t}));var t=e.O();_N_E=t}]);