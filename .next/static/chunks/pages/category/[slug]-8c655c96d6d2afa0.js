(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8024],{64626:function(e,i,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/category/[slug]",function(){return r(14146)}])},14146:function(e,i,r){"use strict";r.r(i),r.d(i,{__N_SSP:function(){return K},default:function(){return Q}});var t=r(85893),n=r(70441),s=r(82386),o=r(65582),l=r(66242),a=r(87357),c=r(93946),d=r(86886),u=r(98396),h=r(67434),m=r(9029),x=r(69849),p=r(47568),f=r(26042),g=r(69396),j=r(34051),y=r.n(j),v=r(15054),Z=r(98456),S=r(30403),P=r(67294),w=r(8100),b=r(9669),C=r.n(b),_=r(10315),k=r(30431),I=r(44832),z=r(33841),W=r(94054),T=r(11163),O=r(33299),R=function(e){var i=e.category,r=e.ProductReviews,n=(0,T.useRouter)(),s=(0,P.useState)(1),o=s[0],l=s[1],c=(0,P.useState)(15),u=c[0],h=c[1],x=(0,P.useState)(!1),j=x[0],b=x[1],R=(0,P.useState)("Default"),N=R[0],q=R[1],D=(0,O.useSession)().data;(0,P.useEffect)((function(){if(n.asPath+"__pp"in sessionStorage){var e=JSON.parse(sessionStorage.getItem(n.asPath+"__pp")),i=e.pageIndexRoute,r=e.pageSizeRoute,t=e.scrollPos,s=e.sorting,o=function(e){e===n.asPath&&(i||r)&&sessionStorage.removeItem(n.asPath+"__pp")};return n.events.on("routeChangeComplete",(function(e){e===n.asPath&&(i&&l(i),r&&h(r),t&&b(!0),s&&q(s))})),function(){n.events.off("routeChangeComplete",o)}}}),[]);var H=function(){return window.pageYOffset},A=function(){var e=(0,p.Z)(y().mark((function e(i){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C().get(i).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(i){return e.apply(this,arguments)}}(),F=(0,w.ZP)("https://chitralhive.com/api/"+"PaginatedCategorys?page=".concat(o,"&slug=").concat(i.slug,"&pageSize=").concat(u,"&sort=").concat(N),A),E=F.data;F.error;if(E&&j){var M=JSON.parse(sessionStorage.getItem(n.asPath+"__pp")).scrollPos;setTimeout((function(){window.scrollTo(0,parseInt(M))}),0),b(!1),sessionStorage.setItem(n.asPath+"__pp",JSON.stringify({}))}var L=E?E.publisherFlag:"";return(0,P.useEffect)((function(){l(1)}),[i]),E?(0,t.jsxs)(P.Fragment,{children:[(0,t.jsxs)(m.hs,{sx:{mt:-2,mb:1},alignItems:"flex-end",justifyContent:"flex-end",flexWrap:"wrap",mt:4,children:[(0,t.jsxs)(W.Z,{children:[(0,t.jsx)(z.Z,{id:"demo-simple-select-label",children:"Display"}),(0,t.jsxs)(_.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"Products",value:u,onChange:function(e){h(parseInt(e.target.value)),l(1)},sx:{minWidth:50,color:"primary.main","& .MuiSelect-icon":{color:"primary.main"}},children:[(0,t.jsx)(k.Z,{value:15,sx:{color:"primary.main"},children:"15"}),(0,t.jsx)(k.Z,{value:25,sx:{color:"primary.main"},children:"25"}),(0,t.jsx)(k.Z,{value:50,sx:{color:"primary.main"},children:"50"}),(0,t.jsx)(k.Z,{value:100,sx:{color:"primary.main"},children:"100"})]})]}),(0,t.jsxs)(W.Z,{sx:{ml:2},children:[(0,t.jsx)(z.Z,{id:"sorting-select-label",children:"Sort By"}),(0,t.jsxs)(_.Z,{labelId:"sorting-select-label",id:"sorting-select",label:"Sort By",value:N,onChange:function(e){q(e.target.value),l(1)},sx:{minWidth:120,color:"primary.main","& .MuiSelect-icon":{color:"primary.main"}},children:[(0,t.jsx)(k.Z,{value:"Default",children:"Default"}),(0,t.jsx)(k.Z,{value:"price_asc",children:"Price (Low to High)"}),(0,t.jsx)(k.Z,{value:"price_desc",children:"Price (High to Low)"})]})]})]}),(0,t.jsx)(d.ZP,{container:!0,spacing:3,children:E&&E.results.length>0?E.results.map((function(e,n){return(0,t.jsx)(d.ZP,{item:!0,lg:3,sm:6,xs:12,children:(0,t.jsx)(I.Z,(0,g.Z)((0,f.Z)({},e),{category:i,publisherFlag:L,pageIndex:o,pageSize:u,getCurrentScrollPosition:H,sorting:N,ProductReviews:r,wishlist:D&&D.wishlist&&D.wishlist.length>0?D.wishlist:null}))},n)})):(0,t.jsx)(d.ZP,{item:!0,lg:6,sm:6,xs:12,children:(0,t.jsx)(S.H3,{color:"red",children:"No Product Found"})})}),(0,t.jsx)(m.b0,{style:{marginTop:"2%"},children:(0,t.jsx)(v.Z,{count:E?Math.ceil(E.count/u):"",variant:"outlined",color:"primary",onChange:function(e,i){l(i)},pageSize:u,page:o})}),(0,t.jsx)(m.b0,{style:{marginTop:"1%"},children:(0,t.jsxs)(S.Dr,{color:"grey.600",children:["Showing ",E?(o-1)*u+1:"","-",E?(o-1)*u+E.results.length:""," of ",E?E.count:""," Products"]})})]}):(0,t.jsx)(a.Z,{sx:{display:"flex"},style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,t.jsx)(Z.Z,{})})},N=r(38043),q=r(38679),D=r(72428),H=r(91811),A=r(90948),F=r(87918),E=r(83321),M=r(74167),L=r(55503),B=r(41664),G=r.n(B),J=(r(67449),r(55678)),$=r(9502),X=(0,A.ZP)(l.Z)((function(){return{width:"100%",overflow:"hidden",position:"relative",marginBottom:"1.25rem"}})),U=(0,A.ZP)(F.Z)((function(){return{zIndex:1,top:"10px",left:"10px",paddingLeft:3,paddingRight:3,fontWeight:600,fontSize:"10px",position:"absolute"}})),V=function(e){var i=e.id,r=e.name,n=e.mrp,s=e.image,o=e.slug,l=e.sku,u=e.salePrice,h=(e.description,e.rating,e.hideRating,e.hoverEffect,e.discount),x=(e.showProductSize,e.stock),f=(e.isNewArrival,e.category,e.wishList,e.ProductReviews),g=e.wishlist,j=u;u=u-u*h/100;var v="https://chitralhive.com/media/",Z=(0,P.useState)(""),w=Z[0],b=Z[1];(0,P.useEffect)((function(){if(window.localStorage){var e=localStorage.getItem("currency");b(e)}}),[]);var C=function(){var e=(0,p.Z)(y().mark((function e(){var r;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=T.user.id,e.next=3,fetch("https://chitralhive.com/api/updateWishlist",{method:"POST",body:JSON.stringify({userid:r,itemid:i}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+T.accessToken}}).then((function(e){return e.json()}));case 3:Q((function(e){return!e}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=(0,L.bp)(),k=_.state,I=_.dispatch,z=k.cart.find((function(e){return e.id===i})),W=(0,O.useSession)(),T=W.data,R=(W.status,f.Reviews.filter((function(e){return e.itemid_id===i}))),A=R.reduce((function(e,i){return e+i.rating}),0),B=A/R.length,V=(Math.min(Math.round(100*B)/100,5),R.length),Y=(0,P.useState)(void 0),K=Y[0],Q=Y[1];Array.isArray(g)&&void 0===K&&Q((function(e){return void 0===e&&g.some((function(e){return e.id===i}))}));var ee=(0,P.useCallback)((function(e,i){return function(){I({type:"CHANGE_CART_AMOUNT",payload:e}),1==i?J.Am.success("Added to cart",{position:J.Am.POSITION.TOP_RIGHT}):J.Am.error("Removed from cart",{position:J.Am.POSITION.TOP_RIGHT})}}));return T?(0,t.jsxs)(X,{children:[(0,t.jsx)(c.Z,{onClick:function(){return C()},size:"small",sx:{position:"absolute",top:15,right:15},children:K?(0,t.jsx)(N.Z,{color:"primary",fontSize:"small"}):(0,t.jsx)(H.Z,{fontSize:"small",color:"disabled"})}),(0,t.jsxs)(d.ZP,{container:!0,spacing:1,children:[(0,t.jsx)(d.ZP,{item:!0,sm:1.5,xs:10,children:(0,t.jsxs)(a.Z,{position:"relative",children:[!!h&&(0,t.jsx)(F.Z,{size:"small",color:"primary",label:"".concat(h,"% off"),sx:{top:15,left:15,px:"5px",fontSize:10,fontWeight:600,position:"absolute"}}),(0,t.jsx)(M.Z,{src:v+s,alt:r,width:"100%",sx:{width:"100%",height:"100%",objectFit:"cover"}})]})}),(0,t.jsx)(d.ZP,{item:!0,sm:9,xs:12,children:(0,t.jsxs)(m.hs,{flexDirection:"column",justifyContent:"center",height:"100%",p:2,children:[(0,t.jsx)(G(),{href:"/product/".concat(o),children:(0,t.jsx)("a",{children:(0,t.jsx)(S.H5,{fontWeight:"600",my:"0.5rem",children:r})})}),(0,t.jsxs)(m.hs,{children:[(0,t.jsx)($.Z,{value:B&&B?B:0,color:"warn",readOnly:!0}),(0,t.jsxs)(S.x4,{ml:2,fontWeight:600,color:"grey.500",children:["(",V&&V?V:0,")"]})]}),(0,t.jsxs)(m.hs,{mt:1,mb:2,alignItems:"center",children:[(0,t.jsxs)(S.H5,{fontWeight:600,color:"primary.main",mr:1,children:[w,". ",u.toFixed(2)]}),!!h&&(0,t.jsx)(S.Dr,{fontWeight:"600",color:"grey.600",children:(0,t.jsxs)("del",{children:[" ",w,". ",null===j||void 0===j?void 0:j.toFixed(2)]})})]}),0==x?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(U,{color:"primary",size:"small",label:"Out of Stock"})}):(0,t.jsxs)(m.hs,{children:[!(null===z||void 0===z?void 0:z.qty)&&(0,t.jsx)(E.Z,{color:"primary",variant:"contained",sx:{height:32},onClick:ee({id:i,mrp:n,salePrice:u,price:u,sku:l,slug:o,image:v+s,name:r,qty:((null===z||void 0===z?void 0:z.qty)||0)+1},!0),children:"Add To Cart"}),!!(null===z||void 0===z?void 0:z.qty)&&(0,t.jsxs)(m.$9,{children:[(0,t.jsx)(E.Z,{color:"primary",variant:"outlined",sx:{padding:"5px"},onClick:ee({id:i,mrp:n,salePrice:u,price:u,sku:l,slug:o,image:v+s,name:r,qty:((null===z||void 0===z?void 0:z.qty)||0)-1},!1),children:(0,t.jsx)(q.Z,{fontSize:"small"})}),(0,t.jsx)(S.H5,{fontWeight:"600",fontSize:"15px",mx:1.5,children:z.qty}),(0,t.jsx)(E.Z,{color:"primary",variant:"outlined",sx:{padding:"5px"},onClick:ee({id:i,mrp:n,salePrice:u,price:u,sku:l,image:v+s,name:r,qty:((null===z||void 0===z?void 0:z.qty)||0)+1},!0),children:(0,t.jsx)(D.Z,{fontSize:"small"})})]})]})]})})]})]}):(0,t.jsx)(X,{children:(0,t.jsxs)(d.ZP,{container:!0,spacing:1,children:[(0,t.jsx)(d.ZP,{item:!0,sm:1.5,xs:10,children:(0,t.jsxs)(a.Z,{position:"relative",children:[!!h&&(0,t.jsx)(F.Z,{size:"small",color:"primary",label:"".concat(h,"% off"),sx:{top:15,left:15,px:"5px",fontSize:10,fontWeight:600,position:"absolute"}}),(0,t.jsx)(M.Z,{src:v+s,alt:r,width:"100%"})]})}),(0,t.jsx)(d.ZP,{item:!0,sm:9,xs:12,children:(0,t.jsxs)(m.hs,{flexDirection:"column",justifyContent:"center",height:"100%",p:2,children:[(0,t.jsx)(G(),{href:"/product/".concat(o),children:(0,t.jsx)("a",{children:(0,t.jsx)(S.H5,{fontWeight:"600",my:"0.5rem",children:r})})}),(0,t.jsxs)(m.hs,{children:[(0,t.jsx)($.Z,{value:B&&B?B:0,color:"warn",readOnly:!0}),(0,t.jsxs)(S.x4,{ml:2,fontWeight:600,color:"grey.500",children:["(",V&&V?V:0,")"]})]}),(0,t.jsxs)(m.hs,{mt:1,mb:2,alignItems:"center",children:[(0,t.jsxs)(S.H5,{fontWeight:600,color:"primary.main",mr:1,children:[w,". ",null===u||void 0===u?void 0:u.toFixed(2)]}),!!h&&(0,t.jsx)(S.Dr,{fontWeight:"600",color:"grey.600",children:(0,t.jsxs)("del",{children:[w,". ",j.toFixed(2)]})})]}),(0,t.jsx)(m.hs,{children:0==x?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(U,{color:"primary",size:"small",label:"Out of Stock"})}):(0,t.jsxs)(m.hs,{children:[!(null===z||void 0===z?void 0:z.qty)&&(0,t.jsx)(E.Z,{color:"primary",variant:"contained",sx:{height:32},onClick:ee({id:i,mrp:n,salePrice:u,price:u,sku:l,slug:o,image:v+s,name:r,qty:((null===z||void 0===z?void 0:z.qty)||0)+1},!0),children:"Add To Cart"}),!!(null===z||void 0===z?void 0:z.qty)&&(0,t.jsxs)(m.$9,{children:[(0,t.jsx)(E.Z,{color:"primary",variant:"outlined",sx:{padding:"5px"},onClick:ee({id:i,mrp:n,salePrice:u,price:u,sku:l,slug:o,image:v+s,name:r,qty:((null===z||void 0===z?void 0:z.qty)||0)-1},!1),children:(0,t.jsx)(q.Z,{fontSize:"small"})}),(0,t.jsx)(S.H5,{fontWeight:"600",fontSize:"15px",mx:1.5,children:z.qty}),(0,t.jsx)(E.Z,{color:"primary",variant:"outlined",sx:{padding:"5px"},onClick:ee({id:i,mrp:n,salePrice:u,price:u,sku:l,slug:o,image:v+s,name:r,qty:((null===z||void 0===z?void 0:z.qty)||0)+1},!0),children:(0,t.jsx)(D.Z,{fontSize:"small"})})]})]})})]})})]})})},Y=function(e){var i=e.category,r=e.ProductReviews,n=(0,P.useState)(1),s=n[0],o=n[1],l=(0,P.useState)(15),a=l[0],c=l[1],d=(0,P.useState)(""),u=d[0],h=d[1],x=function(){var e=(0,p.Z)(y().mark((function e(i){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C().get(i).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(i){return e.apply(this,arguments)}}(),j=(0,w.ZP)("https://chitralhive.com/api/"+"PaginatedCategorys?page=".concat(s,"&slug=").concat(i.slug,"&pageSize=").concat(a,"&sort=").concat(u),x),Z=j.data,b=(j.error,(0,O.useSession)().data),I=function(e){c(parseInt(e.target.value)),o(1)};return(0,P.useEffect)((function(){o(1)}),[i]),(0,t.jsxs)(P.Fragment,{children:[(0,t.jsxs)(m.hs,{sx:{mt:-2,mb:1},alignItems:"flex-end",justifyContent:"flex-end",flexWrap:"wrap",mt:4,children:[(0,t.jsxs)(W.Z,{children:[(0,t.jsx)(z.Z,{id:"display-label",children:"Display"}),(0,t.jsxs)(_.Z,{labelId:"display-label",id:"display-select",label:"Products",value:a,onChange:I,sx:{minWidth:50,color:"primary.main","& .MuiSelect-icon":{color:"primary.main"}},children:[(0,t.jsx)(k.Z,{value:15,sx:{color:"primary.main"},children:"15"}),(0,t.jsx)(k.Z,{value:25,sx:{color:"primary.main"},children:"25"}),(0,t.jsx)(k.Z,{value:50,sx:{color:"primary.main"},children:"50"}),(0,t.jsx)(k.Z,{value:100,sx:{color:"primary.main"},children:"100"})]})]}),(0,t.jsxs)(W.Z,{sx:{ml:2},children:[(0,t.jsx)(z.Z,{id:"sort-label",children:"Sort"}),(0,t.jsxs)(_.Z,{labelId:"sort-label",id:"sort-select",label:"Sort",value:u,onChange:function(e){h(e.target.value),o(1)},sx:{minWidth:120,color:"primary.main","& .MuiSelect-icon":{color:"primary.main"}},children:[(0,t.jsx)(k.Z,{value:"default",children:"Default"}),(0,t.jsx)(k.Z,{value:"price_asc",children:"Price (Low to High)"}),(0,t.jsx)(k.Z,{value:"price_desc",children:"Price (High to Low)"})]})]})]}),Z?Z.results.map((function(e,n){return(0,t.jsx)(V,(0,g.Z)((0,f.Z)({},e),{category:i,ProductReviews:r,wishlist:b&&b.wishlist&&b.wishlist.length>0?b.wishlist:null}),n)})):(0,t.jsx)("p",{children:"No products found."}),(0,t.jsxs)(m.$9,{flexWrap:"wrap",mt:4,children:[(0,t.jsxs)(S.Dr,{color:"grey.600",children:["Showing ",Z?(s-1)*a+1:"","-",Z?(s-1)*a+Z.results.length:""," of ",Z?Z.count:""," Products"]}),(0,t.jsx)(v.Z,{count:Z?Math.ceil(Z.count/a):"",variant:"outlined",color:"primary",onChange:function(e,i){o(i)},pageSize:a,page:s}),(0,t.jsxs)(W.Z,{children:[(0,t.jsx)(z.Z,{id:"display-label-bottom",children:"Display"}),(0,t.jsxs)(_.Z,{labelId:"display-label-bottom",id:"display-select-bottom",label:"Products",value:a,onChange:I,sx:{minWidth:50,color:"primary.main","& .MuiSelect-icon":{color:"primary.main"}},children:[(0,t.jsx)(k.Z,{value:15,sx:{color:"primary.main"},children:"15"}),(0,t.jsx)(k.Z,{value:25,sx:{color:"primary.main"},children:"25"}),(0,t.jsx)(k.Z,{value:50,sx:{color:"primary.main"},children:"50"}),(0,t.jsx)(k.Z,{value:100,sx:{color:"primary.main"},children:"100"})]})]})]})]})},K=!0,Q=function(e){var i=e.categoryDetail,r=e.ProductReviews,p=(0,P.useState)("grid"),f=p[0],g=p[1],j=((0,u.Z)((function(e){return e.breakpoints.down("md")})),(0,P.useCallback)((function(e){return function(){return g(e)}}),[]));(0,T.useRouter)();return(0,t.jsxs)(x.Z,{children:[(0,t.jsx)(h.Z,{title:i.name,description:i.metaDescription&&"undefined"!=i.metaDescription?i.metaDescription:"Home Delivery Service for all "+i.name+". Order online from a wide range of "+i.name+" at your doorstep across Pakistan.",metaTitle:i.metaTitle&&"undefined"!=i.metaTitle?i.metaTitle:"Buy "+i.name+" Now"}),(0,t.jsxs)(o.Z,{sx:{mt:4,mb:6},children:[(0,t.jsxs)(l.Z,{elevation:1,sx:{mb:"55px",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",p:{sm:"1rem 1.25rem",md:"0.5rem 1.25rem",xs:"1.25rem 1.25rem 0.25rem"}},children:[(0,t.jsx)(a.Z,{children:(0,t.jsxs)(S.H5,{children:["Searching for \u201c ",i.name," \u201d"]})}),(0,t.jsx)(m.hs,{alignItems:"center",columnGap:4,flexWrap:"wrap",my:"0.5rem",children:(0,t.jsxs)(m.hs,{alignItems:"center",my:"0.25rem",children:[(0,t.jsx)(S.nv,{color:"grey.600",mr:1,children:"View:"}),(0,t.jsx)(c.Z,{onClick:j("grid"),children:(0,t.jsx)(n.Z,{color:"grid"===f?"primary":"inherit",fontSize:"small"})}),(0,t.jsx)(c.Z,{onClick:j("list"),children:(0,t.jsx)(s.Z,{color:"list"===f?"primary":"inherit",fontSize:"small"})})]})})]}),(0,t.jsx)(d.ZP,{container:!0,spacing:3,children:(0,t.jsx)(d.ZP,{item:!0,md:12,xs:12,children:i.name?"grid"===f?(0,t.jsx)(R,{category:i,ProductReviews:r&&r?r:[]}):(0,t.jsx)(Y,{category:i,ProductReviews:r&&r?r:[]}):(0,t.jsx)(a.Z,{children:(0,t.jsx)(S.H3,{color:"red",children:"No Result Found"})})})})]})]})}},9502:function(e,i,r){"use strict";var t=r(18339),n=r(13264),s=r(22428),o=r(98700),l=r(58706),a=(0,n.Z)(t.Z)((0,s.Z)(o.ZP,l.ZP));a.defaultProps={fontSize:"1.25rem"},i.Z=a}},function(e){e.O(0,[2962,939,2478,5394,9579,9154,7918,6559,8339,4240,4210,7764,9849,9023,4832,9774,2888,179],(function(){return i=64626,e(e.s=i);var i}));var i=e.O();_N_E=i}]);