(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6660],{42393:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/orders",function(){return r(10442)}])},10442:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return C}});var t=r(85893),i=r(26797),s=r(3563),o=r(60940),l=r(90557),c=r(87357),a=r(23025),d=r(30403),u=r(67294),h=r(8100),x=r(33299),m=r(98456),f=r(36714),p=r(87918),j=r(15861),Z=r(93946),g=r(13524),y=r(41664),v=r.n(y),w=function(e){var n=e.item,r=function(e){switch(e){case"Pending":case"Processing":return"secondary";case"Delivered":return"success";case"Cancelled":return"error";default:return""}};return n?(0,t.jsx)(v(),{href:"orders/"+n.id,children:(0,t.jsx)("a",{children:(0,t.jsxs)(a.Z,{sx:{my:"1rem",padding:"6px 18px"},children:[(0,t.jsx)(d.H5,{m:.75,textAlign:"left",children:n.orderNo}),(0,t.jsx)(c.Z,{m:.75,children:(0,t.jsx)(p.Z,{size:"small",label:n.status,sx:{p:"0.25rem 0.5rem",fontSize:12,color:r(n.status)?"".concat(r(n.status),".900"):"inherit",backgroundColor:r(n.status)?"".concat(r(n.status),".100"):"none"}})}),(0,t.jsx)(j.Z,{className:"pre",m:.75,textAlign:"left",children:(0,g.Z)(new Date(n.timestamp),"MMM dd, yyyy")}),(0,t.jsx)(j.Z,{m:.75,textAlign:"left",children:n.totalBill}),(0,t.jsx)(j.Z,{color:"grey.600",textAlign:"center",sx:{flex:"0 0 0 !important",display:{xs:"none",md:"block"}},children:(0,t.jsx)(Z.Z,{children:(0,t.jsx)(f.Z,{fontSize:"small",color:"inherit",sx:{transform:function(e){var n=e.direction;return"rotate(".concat("rtl"===n?"180deg":"0deg",")")}}})})})]})})}):(0,t.jsx)(c.Z,{sx:{display:"flex"},style:containerStyle,children:(0,t.jsx)(m.Z,{})})},S=function(){var e=(0,x.useSession)(),n=e.data,r=(e.status,(0,u.useState)([])),i=r[0],s=r[1],o=(0,u.useState)(!0),l=o[0],f=o[1],p="https://chitralhive.com/api/getCustomerOrders",j=(0,h.ZP)(p,(function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return fetch(p,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.accessToken},body:JSON.stringify({id:n.user.id})}).then((function(e){return e.json()})).then((function(e){s(e),f(!1)})).catch((function(e){}))})),Z=(j.orders,j.error,{display:"flex",justifyContent:"center",alignItems:"center"});if(n)return(0,t.jsxs)(u.Fragment,{children:[(0,t.jsxs)(a.Z,{elevation:0,sx:{padding:"0px 18px",background:"none",display:{xs:"none",md:"flex"}},children:[(0,t.jsx)(d.H5,{color:"grey.600",my:0,mx:.75,textAlign:"left",children:"Order #"}),(0,t.jsx)(d.H5,{color:"grey.600",my:0,mx:.75,textAlign:"left",children:"Status"}),(0,t.jsx)(d.H5,{color:"grey.600",my:0,mx:.75,textAlign:"left",children:"Date purchased"}),(0,t.jsx)(d.H5,{color:"grey.600",my:0,mx:.75,textAlign:"left",children:"Total"}),(0,t.jsx)(d.H5,{flex:"0 0 0 !important",color:"grey.600",px:2.75,my:0})]}),l?(0,t.jsx)(c.Z,{sx:{display:"flex"},style:Z,mt:5,children:(0,t.jsx)(m.Z,{})}):i.length>0?i.map((function(e,n){return(0,t.jsx)(w,{item:e},n)})):(0,t.jsx)(c.Z,{style:Z,mt:12,children:(0,t.jsx)(d.H5,{color:"red",children:"No orders yet"})})]})},b=r(9029),P=r(24210),C=function(){var e=(0,x.useSession)({required:!0}).data;return e&&"error"in e&&"SessionTimedOut"==e.error?((0,x.signOut)({redirect:!1}),(0,t.jsxs)(b.b0,{flexDirection:"column",minHeight:"100vh",children:[(0,t.jsx)(P.Z,{}),(0,t.jsx)(v(),{href:"/",children:"Back to Home"})]})):e?(0,t.jsxs)(o.Z,{children:[(0,t.jsx)(s.Z,{title:"My Orders",icon:i.Z,navigation:(0,t.jsx)(l.Z,{})}),(0,t.jsx)(S,{})]}):(0,t.jsxs)(b.b0,{flexDirection:"column",minHeight:"100vh",children:[(0,t.jsx)(P.Z,{}),(0,t.jsx)(v(),{href:"/",children:"Back to Home"})]})}},23025:function(e,n,r){"use strict";var t=r(66242),i=(0,r(90948).ZP)(t.Z)({display:"flex",flexWrap:"wrap",alignItems:"center",borderRadius:"10px",cursor:"pointer","& > *":{flex:"1 1 0"},"& .pre":{whiteSpace:"pre"}});n.Z=i},3563:function(e,n,r){"use strict";r.d(n,{Z:function(){return y}});var t=r(14924),i=r(99534),s=r(85893),o=r(326),l=r(90948),c=r(87357),a=r(9029),d=r(77533),u=r(86010),h=r(6576),x=r(67294),m=(0,l.ZP)(c.Z)((function(){return{"& .handle":{cursor:"pointer"}}})),f=function(e){var n,r=e.position,t=e.open,i=e.width,o=void 0===i?280:i,l=e.handle,c=e.children,a=e.toggleSidenav,f=(0,x.useState)(t),p=f[0],j=f[1],Z=function(){return j(!p)};return(0,x.useEffect)((function(){return j(t)}),[t]),(0,s.jsxs)(m,{children:[(0,s.jsx)(d.ZP,{anchor:r,open:p,onClose:a||Z,SlideProps:{style:{width:o}},sx:{zIndex:15001},children:(0,s.jsx)(h.Z,{autoHide:!1,children:c})}),l&&(0,x.cloneElement)(l,{onClick:a||Z,className:(0,u.Z)(null===(n=l.props)||void 0===n?void 0:n.className,"handle")})]})};f.defaultProps={width:280,position:"left",open:!1};var p=f,j=r(30403),Z=r(50420),g=(0,l.ZP)(c.Z)((function(e){var n,r=e.theme;return n={display:"flex",marginTop:r.spacing(-2),marginBottom:r.spacing(3),"& .headerHold":{flexGrow:1,alignItems:"center",justifyContent:"space-between"}},(0,t.Z)(n,r.breakpoints.up("md"),{"& .sidenav":{display:"none"}}),(0,t.Z)(n,r.breakpoints.down("md"),{flexDirection:"column"}),n})),y=function(e){var n=e.title,r=e.button,t=e.navigation,l=(0,i.Z)(e,["title","button","navigation"]),d=(0,Z.Z)()<1025;return(0,s.jsxs)(g,{children:[(0,s.jsxs)(a.hs,{mt:2,className:"headerHold",children:[(0,s.jsxs)(a.hs,{alignItems:"center",children:[l.icon&&(0,s.jsx)(l.icon,{color:"primary"}),(0,s.jsx)(j.H2,{ml:1.5,my:"0px",lineHeight:"1",whiteSpace:"pre",children:n})]}),(0,s.jsx)(c.Z,{className:"sidenav",children:(0,s.jsx)(p,{position:"left",handle:(0,s.jsx)(o.Z,{fontSize:"small"}),children:t})}),!d&&r]}),d&&!!r&&(0,s.jsx)(c.Z,{mt:2,children:r})]})}},90557:function(e,n,r){"use strict";r.d(n,{Z:function(){return w}});var t=r(14924),i=r(26042),s=r(69396),o=r(99534),l=r(85893),c=r(22516),a=r(19933),d=r(98212),u=r(26770),h=r(90948),x=r(66242),m=r(15861),f=r(9029),p=r(67294),j=r(93377),Z=r(11163),g=(0,h.ZP)(x.Z)((function(e){var n=e.theme;return(0,t.Z)({paddingBottom:"1.5rem"},n.breakpoints.down("md"),{boxShadow:"none",overflowY:"auto",height:"calc(100vh - 64px)"})})),y=(0,h.ZP)((function(e){var n=e.children,r=(e.isCurrentPath,(0,o.Z)(e,["children","isCurrentPath"]));return(0,l.jsx)(j.Z,(0,s.Z)((0,i.Z)({},r),{children:n}))}))((function(e){var n=e.theme,r=e.isCurrentPath;return{display:"flex",alignItems:"center",borderLeft:"4px solid",paddingLeft:"1.5rem",paddingRight:"1.5rem",marginBottom:"1.25rem",justifyContent:"space-between",borderColor:r?n.palette.primary.main:"transparent","& .nav-icon":{color:r?n.palette.primary.main:n.palette.grey[600]},"&:hover":{borderColor:n.palette.primary.main,"& .nav-icon":{color:n.palette.primary.main}}}})),v=[{title:"DASHBOARD",list:[{href:"/orders",title:"Orders",icon:u.Z},{href:"/wish-list",title:"Wishlist",icon:c.Z}]},{title:"ACCOUNT SETTINGS",list:[{href:"/profile",title:"Profile Info",icon:a.Z},{href:"/address",title:"Addresses",icon:d.Z},,]}],w=function(){var e=(0,Z.useRouter)().pathname;return(0,l.jsx)(g,{children:v.map((function(n){return(0,l.jsxs)(p.Fragment,{children:[(0,l.jsx)(m.Z,{p:"26px 30px 1rem",color:"grey.600",fontSize:"12px",children:n.title}),n.list.map((function(n){return(0,l.jsx)(y,{href:n.href,isCurrentPath:e.includes(n.href),children:(0,l.jsxs)(f.hs,{alignItems:"center",gap:1,children:[(0,l.jsx)(n.icon,{color:"inherit",fontSize:"small",className:"nav-icon"}),(0,l.jsx)("span",{children:n.title})]})},n.title)}))]},n.title)}))})}},60940:function(e,n,r){"use strict";var t=r(85893),i=r(65582),s=r(86886),o=r(69849),l=(r(67294),r(90557));n.Z=function(e){var n=e.children;return(0,t.jsx)(o.Z,{children:(0,t.jsx)(i.Z,{sx:{my:"2rem"},children:(0,t.jsxs)(s.ZP,{container:!0,spacing:3,children:[(0,t.jsx)(s.ZP,{item:!0,lg:3,xs:12,sx:{display:{xs:"none",sm:"none",md:"block"}},children:(0,t.jsx)(l.Z,{})}),(0,t.jsx)(s.ZP,{item:!0,lg:9,xs:12,children:n})]})})})}}},function(e){e.O(0,[2962,939,2478,5394,9579,9154,7918,2925,4210,7764,9849,9774,2888,179],(function(){return n=42393,e(e.s=n);var n}));var n=e.O();_N_E=n}]);