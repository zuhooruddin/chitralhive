(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8006],{60249:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reset-password",function(){return r(65082)}])},65082:function(e,s,r){"use strict";r.r(s);var t=r(47568),n=r(34051),o=r.n(n),a=r(85893),i=r(67449),l=r(61400),u=r(30403),d=r(82580),p=r(67294),c=r(74231),h=r(2659),w=r(24210),f=(r(44245),r(11163)),m=r(9669),_=r.n(m),x=r(55678),P={password:"",re_password:""},y=c.Ry().shape({password:c.Z_().required("Password is required"),re_password:c.Z_().oneOf([c.iH("password"),null],"Passwords must match").required("Please re-type password")});s.default=function(){var e=(0,f.useRouter)(),s=(0,p.useState)(""),r=(s[0],s[1],(0,p.useState)(!1)),n=r[0],c=r[1],m=(0,p.useCallback)((function(){c((function(e){return!e}))}),[]),v=function(){var s=(0,t.Z)(o().mark((function s(r){var t,n;return o().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t={headers:{Accept:"application/json","Content-Type":"application/json"}},n={new_password1:r.password,new_password2:r.re_password,uid:e.query.uid,token:e.query.token},s.next=4,_().post("https://chitralhive.com/api/api/auth/password/reset/confirm/",n,t).then((function(s){null!==s.error&&(400===s.data.status?x.Am.error("Password must be length of eight",{position:x.Am.POSITION.TOP_RIGHT}):(x.Am.success("Password Reset Successfully",{position:x.Am.POSITION.TOP_RIGHT}),e.push("/login")))})).catch((function(e){return x.Am.error("Password must be length of eight",{position:x.Am.POSITION.TOP_RIGHT}),e}));case 4:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}(),b=(0,d.TA)({initialValues:P,onSubmit:v,validationSchema:y}),g=b.values,T=b.errors,j=b.touched,A=b.handleBlur,I=b.handleChange,O=b.handleSubmit;return(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,a.jsx)(w.i,{elevation:3,passwordVisibility:n,children:(0,a.jsxs)("form",{onSubmit:O,children:[(0,a.jsx)(u.H3,{textAlign:"center",mb:1,children:"Reset your password"}),(0,a.jsx)(u.x4,{mb:4.5,fontSize:12,display:"block",fontWeight:600,color:"grey.800",textAlign:"center",children:"Please fill all fields to continue"}),(0,a.jsx)(l.Z,{mb:1.5,fullWidth:!0,size:"small",name:"password",label:"Password",variant:"outlined",autoComplete:"on",placeholder:"*********",onBlur:A,onChange:I,value:g.password,type:n?"text":"password",error:!!j.password&&!!T.password,helperText:j.password&&T.password,InputProps:{endAdornment:(0,a.jsx)(h.Z,{show:n,click:m})}}),(0,a.jsx)(l.Z,{fullWidth:!0,size:"small",autoComplete:"on",name:"re_password",variant:"outlined",label:"Retype Password",placeholder:"*********",onBlur:A,onChange:I,value:g.re_password,type:n?"text":"password",error:!!j.re_password&&!!T.re_password,helperText:j.re_password&&T.re_password,InputProps:{endAdornment:(0,a.jsx)(h.Z,{show:n,click:m})}}),(0,a.jsx)("br",{}),(0,a.jsx)(i.Z,{fullWidth:!0,type:"submit",color:"primary",variant:"contained",sx:{height:44},children:"Reset Password"})]})})})}}},function(e){e.O(0,[2962,939,2478,5394,4210,9774,2888,179],(function(){return s=60249,e(e.s=s);var s}));var s=e.O();_N_E=s}]);