(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2427],{92088:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bundle/[slug]",function(){return n(78998)}])},78998:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return D},default:function(){return E}});var i=n(85893),r=n(90948),o=n(10760),a=n(65582),s=n(69849),l=n(10797),c=n(38679),d=n(72428),u=n(87357),h=n(86886),m=n(67449),x=n(44588),p=n(7906),f=n(295),g=n(53252),j=n(72882),y=n(53184),b=n(68509),v=n(90629),Z=n(30403),k=n(55503),C=n(11163),P=n(67294),w=n(9029),T=n(55678),S=n(2734),B=n(98396),_=n(41664),H=n.n(_),q=function(e){var t=e.product,n=e.bundle,r="https://chitralhive.com/api/media/",o="/product/",a=n.id,s=(n.status,n.name),_=n.image,q=(n.imgGroup,n.mrp,n.manufacturer,n.author,n.aliasCode,n.sku),A=(0,P.useState)(t),O=A[0],I=A[1],N=(0,C.useRouter)().query.id,D=(0,P.useState)(n.salePrice),E=D[0],W=D[1],F=(0,P.useState)(!1),G=(F[0],F[1]),R=(0,P.useState)(0),z=(R[0],R[1]),L=(0,k.bp)(),X=L.state,M=L.dispatch,Q=X.cart.find((function(e){return e.id===a||e.id===N})),U=(0,S.Z)(),K=(0,B.Z)(U.breakpoints.down("sm")),J=(0,P.useState)(""),V=J[0],Y=J[1];(0,P.useEffect)((function(){if(window.localStorage){var e=localStorage.getItem("currency");Y(e)}}),[]);var $={width:"3.5em",fontSize:K?"0.9em":"1em"},ee=((0,P.useCallback)((function(e){z(e),G(!0)}),[]),(0,P.useCallback)((function(e){return function(){var t=!1;O.forEach((function(i){if(!(i.qty<=0||i.stock<=0)){var o=Math.min(i.qty,i.stock),a={id:i.id,mrp:i.mrp,salePrice:i.salePrice,price:i.salePrice,sku:i.sku,slug:i.slug,image:r+i.image,name:i.name+" | Bundle: "+n.name,qty:o,bundle:!0};M({type:"CHANGE_CART_AMOUNT",payload:a}),t=!0,o<i.qty&&e&&T.Am.info("".concat(i.name," has only ").concat(i.stock," in stock"),{position:T.Am.POSITION.TOP_RIGHT})}})),t&&e?T.Am.success("Added to cart",{position:T.Am.POSITION.TOP_RIGHT}):t&&!e&&T.Am.error("Removed from cart",{position:T.Am.POSITION.TOP_RIGHT})}}),[n,O,M])),te=function(e,n){var i=n.target,r=(i.name,i.value),o=(0,l.Z)(t);o[e].qty=r,I(o),function(){var e=0;O.map((function(t,n){return e+=t.salePrice*t.qty})),W(e)}()};return(0,i.jsxs)(u.Z,{width:"100%",children:[(0,i.jsxs)(h.ZP,{container:!0,spacing:3,justifyContent:"space-around",children:[(0,i.jsx)(h.ZP,{item:!0,md:6,xs:12,alignItems:"center",children:(0,i.jsx)(w.hs,{justifyContent:"center",mb:6,children:(0,i.jsx)(x.Z,{width:300,alt:s,height:300,loading:"eager",objectFit:"contain",src:"https://chitralhive.com/api/"+"".concat(_)})})}),(0,i.jsxs)(h.ZP,{item:!0,md:6,xs:12,alignItems:"center",children:[(0,i.jsx)(Z.H1,{mb:2,children:n.name}),(0,i.jsx)(u.Z,{mb:3,children:(0,i.jsxs)(Z.H2,{color:"primary.main",mb:.5,lineHeight:"1",children:[V,". ",E.toFixed(2)]})}),(0,i.jsxs)(w.hs,{alignItems:"center",mb:2,children:[(0,i.jsx)(u.Z,{children:"Product SKU / CODE:"}),(0,i.jsx)(Z.H6,{ml:1,children:q})]}),(null===Q||void 0===Q?void 0:Q.qty)?(0,i.jsxs)(w.hs,{alignItems:"center",mb:4.5,children:[(0,i.jsx)(m.Z,{size:"small",sx:{p:1},color:"primary",variant:"outlined",onClick:ee((null===Q||void 0===Q?void 0:Q.qty)-1,!1),children:(0,i.jsx)(c.Z,{fontSize:"small"})}),(0,i.jsx)(Z.H3,{fontWeight:"600",mx:2.5,children:null===Q||void 0===Q?void 0:Q.qty.toString().padStart(2,"0")}),(0,i.jsx)(m.Z,{size:"small",sx:{p:1},color:"primary",variant:"outlined",onClick:ee((null===Q||void 0===Q?void 0:Q.qty)+1,!0),children:(0,i.jsx)(d.Z,{fontSize:"small"})})]}):(0,i.jsx)(m.Z,{color:"primary",variant:"contained",onClick:ee(1,!0),sx:{mb:4.5,px:"1.75rem",height:40},children:"Add to Cart"})]})]}),K?(0,i.jsxs)("table",{style:{borderCollapse:"collapse",width:"100%"},children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{style:{padding:"8px",textAlign:"left",backgroundColor:"#f2f2f2",color:"#444",borderBottom:"1px solid #ddd"},children:"Image"}),(0,i.jsx)("th",{style:{padding:"8px",textAlign:"left",backgroundColor:"#f2f2f2",color:"#444",borderBottom:"1px solid #ddd"},children:"Name"}),(0,i.jsx)("th",{style:{padding:"8px",textAlign:"left",backgroundColor:"#f2f2f2",color:"#444",borderBottom:"1px solid #ddd"},children:"Quantity"}),(0,i.jsx)("th",{style:{padding:"8px",textAlign:"left",backgroundColor:"#f2f2f2",color:"#444",borderBottom:"1px solid #ddd"},children:"Price"})]})}),t.map((function(e,t){return(0,i.jsx)("tbody",{style:{textAlign:"left"},children:(0,i.jsxs)("tr",{children:[(0,i.jsxs)("td",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:[" ",(0,i.jsx)(x.Z,{width:40,alt:e.name,height:40,loading:"eager",objectFit:"contain",src:r+"".concat(e.image)})]}),(0,i.jsx)(H(),{href:o+"".concat(e.slug),children:(0,i.jsx)("a",{children:(0,i.jsx)("th",{style:{padding:"8px",color:"#444",fontWeight:"inherit",borderBottom:"1px solid #ddd"},children:e.name})})}),(0,i.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:(0,i.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,i.jsx)("input",{type:"number",min:0,max:100,value:e.qty,onChange:function(e){return te(t,e)},name:"name",style:$})})}),(0,i.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:e.salePrice})]})},e.id)})),(0,i.jsx)("tfoot",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{colSpan:"2",style:{textAlign:"right",paddingRight:"8px",paddingTop:"8px"},children:"Total:"}),(0,i.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:t.reduce((function(e,t){return e+t.salePrice*t.qty}),0)})]})})]}):(0,i.jsx)(j.Z,{component:v.Z,sx:{width:"100%",overflowX:"auto"},children:(0,i.jsxs)(p.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,i.jsx)(y.Z,{children:(0,i.jsxs)(b.Z,{children:[(0,i.jsx)(g.Z,{style:{color:"#D23F57",fontWeight:"bold"},children:"Image"}),(0,i.jsx)(g.Z,{style:{color:"#D23F57",fontWeight:"bold"},children:"Name"}),(0,i.jsx)(g.Z,{style:{color:"#D23F57",fontWeight:"bold"},align:"center",children:"Quantity"}),(0,i.jsx)(g.Z,{style:{color:"#D23F57",fontWeight:"bold"},align:"center",children:"Price"}),(0,i.jsx)(g.Z,{style:{color:"#D23F57",fontWeight:"bold"},align:"center",children:"Total Price"})]})}),(0,i.jsx)(f.Z,{children:t.map((function(e,t){return(0,i.jsxs)(b.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,i.jsx)(g.Z,{component:"th",scope:"row",children:(0,i.jsx)(x.Z,{width:60,alt:e.name,height:60,loading:"eager",objectFit:"contain",src:r+"".concat(e.image)})}),(0,i.jsx)(H(),{href:o+"".concat(e.slug),children:(0,i.jsx)("a",{children:(0,i.jsx)(g.Z,{component:"th",scope:"row",children:e.name})})}),(0,i.jsx)(g.Z,{align:"center",children:(0,i.jsx)("input",{type:"number",min:0,max:100,value:e.qty,onChange:function(e){return te(t,e)},name:"name",style:$})}),(0,i.jsx)(g.Z,{align:"center",children:e.salePrice}),(0,i.jsx)(g.Z,{align:"center",children:e.salePrice*e.qty}),(0,i.jsx)(g.Z,{align:"center"})]},t)}))})]})})]})},A=n(67434),O=n(83321),I=n(74167),N=n(3815),D=((0,r.ZP)(o.Z)((function(e){var t=e.theme;return{minHeight:0,marginTop:80,marginBottom:24,borderBottom:"1px solid ".concat(t.palette.text.disabled),"& .inner-tab":{minHeight:40,fontWeight:600,textTransform:"capitalize"}}})),!0),E=function(e){var t=e.bundle,n=e.bundleitems,r=e.category,o=e.bundleType,l=(0,C.useRouter)(),c=(0,P.useState)(n),d=c[0],u=(c[1],(0,P.useState)(0)),h=(u[0],u[1],(0,P.useState)([])),m=(h[0],h[1]),x=(0,P.useState)([]),p=(x[0],x[1]);(0,P.useEffect)((function(){(0,N.E)().then((function(e){return m(e)})),(0,N.C)().then((function(e){return p(e)}))}),[]);return t&&n&&d&&d.length?(0,i.jsxs)(s.Z,{children:["BRAND"==o?(0,i.jsx)(A.Z,{title:t.name+" | "+r,description:t.metaDescription&&"undefined"!=t.metaDescription?t.metaDescription:"Looking for "+t.name+" Bundle/Pack/Package for "+r+"? Order online from Our Store.",metaTitle:t.metaTitle&&"undefined"!=t.metaTitle?t.metaTitle:"Buy "+t.name+" Bundle/Package/Pack for "+r}):(0,i.jsx)(A.Z,{title:t.name,description:t.metaDescription&&"undefined"!=t.metaDescription?t.metaDescription:"Looking for "+t.name+" Bundle/Package? Order online from Our Stor ",metaTitle:t.metaTitle&&"undefined"!=t.metaTitle?t.metaTitle:"Buy "+t.name+" Bundle/Package"}),(0,i.jsx)(a.Z,{sx:{my:4},children:d?(0,i.jsx)(q,{product:d,bundle:t}):(0,i.jsx)(Z.H2,{children:"Loading..."})})]}):(0,i.jsx)(s.Z,{children:(0,i.jsxs)(w.b0,{px:2,minHeight:"50vh",flexDirection:"column",children:[(0,i.jsx)(I.Z,{src:"/assets/images/illustrations/404.svg",sx:{display:"block",maxWidth:320,width:"100%",mb:3}}),(0,i.jsx)("p",{children:"Bundle Not Found"}),(0,i.jsxs)(w.hs,{flexWrap:"wrap",children:[(0,i.jsx)(O.Z,{variant:"outlined",color:"primary",sx:{m:1},onClick:function(){return l.back()},children:"Go Back"}),(0,i.jsx)(H(),{href:"/",passHref:!0,children:(0,i.jsx)(O.Z,{variant:"contained",color:"primary",sx:{m:1},children:"Go to Home"})})]})]})})}},67434:function(e,t,n){"use strict";var i=n(85893),r=n(9008),o=n.n(r);n(67294);t.Z=function(e){var t=e.title,n=e.description,r=e.metaTitle;e.sitename;return"ChitralHive",(0,i.jsxs)(o(),{children:[(0,i.jsxs)("title",{children:[t," | ","ChitralHive"]}),(0,i.jsx)("meta",{name:"title",content:r?r+" - "+t:"Buy Products Online - Ecommerce"}),(0,i.jsx)("meta",{name:"description",content:n||"Get in touch with Chitral Hive for authentic Chitrali products. We're here to help with your orders and inquiries. Contact us via phone, email, or visit our store in Chitral.Get in touch with Chitral Hive for authentic Chitrali products. We're here to help with your orders and inquiries. Contact us via phone, email, or visit our store in Chitral."})]})}},3815:function(e,t,n){"use strict";n.d(t,{C:function(){return l},E:function(){return c}});var i=n(47568),r=n(34051),o=n.n(r),a=n(9669),s=n.n(a),l=function(){var e=(0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("/api/frequently-bought-products");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=(0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("/api/related-products");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},function(e){e.O(0,[2962,939,2478,5394,9579,9154,760,4411,4210,7764,9849,9774,2888,179],(function(){return t=92088,e(e.s=t);var t}));var t=e.O();_N_E=t}]);